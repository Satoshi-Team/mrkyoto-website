<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kyoto Real Estate | Buy & Rent Properties in Kyoto | Property Listings | MrKyoto.com</title>
    <meta name="description" content="Discover premium real estate in Kyoto. Browse properties for sale and rent in prestigious areas like Gion, Arashiyama, and Higashiyama. Expert guide to buying and renting property in Japan's cultural capital.">
    <meta name="keywords" content="Kyoto real estate, Kyoto property for sale, Kyoto rental, Kyoto properties, Japan property purchase, Kyoto property listings, Gion real estate, Arashiyama properties, Higashiyama housing, Japan real estate, Kyoto apartments, Kyoto traditional housing">
    <meta name="author" content="MrKyoto.com">
    <meta name="robots" content="index, follow">
    <meta name="language" content="English">
    <meta name="geo.region" content="JP-26">
    <meta name="geo.placename" content="Kyoto">
    <meta name="geo.position" content="35.0116;135.7681">
    <meta name="ICBM" content="35.0116, 135.7681">
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://mrkyoto.com/real-estate/">
    <meta property="og:title" content="Kyoto Real Estate | Buy & Rent Properties in Kyoto | Property Listings | MrKyoto.com">
    <meta property="og:description" content="Discover premium real estate in Kyoto. Browse properties for sale and rent in prestigious areas like Gion, Arashiyama, and Higashiyama.">
    <meta property="og:image" content="https://mrkyoto.com/images/kyoto-real-estate-og.jpg">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">
    <meta property="og:site_name" content="MrKyoto.com">
    <meta property="og:locale" content="en_US">
    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://mrkyoto.com/real-estate/">
    <meta property="twitter:title" content="Kyoto Real Estate | Buy & Rent Properties in Kyoto">
    <meta property="twitter:description" content="Discover premium real estate in Kyoto. Browse properties for sale and rent in prestigious areas like Gion, Arashiyama, and Higashiyama.">
    <meta property="twitter:image" content="https://mrkyoto.com/images/kyoto-real-estate-og.jpg">
    <!-- Additional SEO -->
    <link rel="canonical" href="https://mrkyoto.com/real-estate/">
    <meta name="theme-color" content="#9A1F40">
    <meta name="msapplication-TileColor" content="#9A1F40">
    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="/favicon.svg">
    <!-- Preload critical fonts -->
    <link rel="preload" href="https://fonts.googleapis.com/css2?family=Noto+Serif+JP:wght@400;700&family=Inter:wght@300;400;500;600;700&display=swap" as="style">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Noto+Serif+JP:wght@400;700&family=Inter:wght@300;400;500;600;700&display=swap">
    <!-- TailwindCSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    fontFamily: {
                        'serif': ['Noto Serif JP', 'serif'],
                        'sans': ['Inter', 'sans-serif'],
                    },
                    colors: {
                        'washi': '#F8F6F0',
                        'sumi': '#0F0F0F',
                        'sakura': '#FDF2F8',
                        'matcha': '#166534',
                        'kobicha': '#7C2D12',
                        'aiiro': '#374151',
                        'shinku': '#991B1B',
                        'kincha': '#B45309',
                        'nezumi': '#374151',
                        'gofun': '#FEFEFE',
                        'kurenai': '#B91C1C',
                        'yamabuki': '#B45309',
                        'sora': '#1E3A8A',
                        'murasaki': '#7C2D12',
                        'cha': '#92400E',
                        'koke': '#166534',
                        'sabiseiji': '#166534',
                        'ink-black': '#0F0F0F',
                        'zen': '#E5E7EB',
                    },
                    animation: {
                        'fade-in': 'fadeIn 0.8s ease-out',
                        'slide-up': 'slideUp 0.6s ease-out',
                        'float': 'float 3s ease-in-out infinite',
                        'pulse-slow': 'pulse 3s cubic-bezier(0.4, 0, 0.6, 1) infinite',
                        'bounce-slow': 'bounce 2s infinite',
                        'shimmer': 'shimmer 2s linear infinite',
                        'gentle-float': 'gentleFloat 4s ease-in-out infinite',
                        'zen-fade': 'zenFade 3s ease-in-out infinite',
                    },
                    keyframes: {
                        fadeIn: {
                            '0%': { opacity: '0', transform: 'translateY(20px)' },
                            '100%': { opacity: '1', transform: 'translateY(0)' }
                        },
                        slideUp: {
                            '0%': { opacity: '0', transform: 'translateY(40px)' },
                            '100%': { opacity: '1', transform: 'translateY(0)' }
                        },
                        float: {
                            '0%, 100%': { transform: 'translateY(0px)' },
                            '50%': { transform: 'translateY(-10px)' }
                        },
                        shimmer: {
                            '0%': { backgroundPosition: '-200% 0' },
                            '100%': { backgroundPosition: '200% 0' }
                        },
                        gentleFloat: {
                            '0%, 100%': { transform: 'translateY(0px) rotate(0deg)' },
                            '50%': { transform: 'translateY(-5px) rotate(1deg)' }
                        },
                        zenFade: {
                            '0%, 100%': { opacity: '0.8' },
                            '50%': { opacity: '1' }
                        }
                    },
                    backgroundImage: {
                        'zen-pattern': "url('data:image/svg+xml,%3Csvg width=\'60\' height=\'60\' viewBox=\'0 0 60 60\' xmlns=\'http://www.w3.org/2000/svg\'%3E%3Cg fill=\'none\' fill-rule=\'evenodd\'%3E%3Cg fill=\'%23f3f4f6\' fill-opacity=\'0.1\'%3E%3Ccircle cx=\'30\' cy=\'30\' r=\'2\'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E')",
                        'bamboo-pattern': "url('data:image/svg+xml,%3Csvg width=\'40\' height=\'40\' viewBox=\'0 0 40 40\' xmlns=\'http://www.w3.org/2000/svg\'%3E%3Cg fill=\'%23f3f4f6\' fill-opacity=\'0.05\'%3E%3Cpath d=\'M20 0L20 40M0 20L40 20\' stroke=\'%23d1d5db\' stroke-width=\'0.5\'/%3E%3C/g%3E%3C/svg%3E')",
                    }
                }
            }
        }
    </script>
    <style>
        /* Enhanced Header CSS */
        #header {
            position: sticky;
            top: 0;
            z-index: 50;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(12px);
            border-bottom: 1px solid rgba(229, 231, 235, 0.5);
            box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06);
            transition: all 0.3s ease;
        }

        .dark #header {
            background: rgba(17, 24, 39, 0.95);
            border-bottom-color: rgba(55, 65, 81, 0.5);
        }

        /* Desktop Navigation Links */
        .nav-link-desktop {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.75rem 1rem;
            border-radius: 0.75rem;
            color: #374151;
            font-weight: 500;
            text-decoration: none;
            transition: all 0.2s ease;
            position: relative;
            overflow: hidden;
        }

        .nav-link-desktop:hover {
            background: rgba(185, 28, 28, 0.1);
            color: #B91C1C;
            transform: translateY(-1px);
        }

        .nav-link-desktop:focus {
            outline: 2px solid #B91C1C;
            outline-offset: 2px;
        }

        .dark .nav-link-desktop {
            color: #D1D5DB;
        }

        .dark .nav-link-desktop:hover {
            background: rgba(185, 28, 28, 0.2);
            color: #F59E0B;
        }

        .nav-icon {
            font-size: 1.125rem;
            opacity: 0.8;
        }

        .nav-text {
            font-size: 0.875rem;
            font-weight: 500;
        }

        /* Action Buttons */
        .action-button {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 2.5rem;
            height: 2.5rem;
            border-radius: 0.75rem;
            background: rgba(249, 250, 251, 0.8);
            color: #374151;
            border: 1px solid rgba(229, 231, 235, 0.5);
            transition: all 0.2s ease;
            position: relative;
        }

        .action-button:hover {
            background: rgba(185, 28, 28, 0.1);
            color: #B91C1C;
            transform: translateY(-1px);
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
        }

        .action-button:focus {
            outline: 2px solid #B91C1C;
            outline-offset: 2px;
        }

        .dark .action-button {
            background: rgba(55, 65, 81, 0.8);
            color: #D1D5DB;
            border-color: rgba(75, 85, 99, 0.5);
        }

        .dark .action-button:hover {
            background: rgba(185, 28, 28, 0.2);
            color: #F59E0B;
        }

        /* Enhanced Language Dropdown */
        .language-dropdown {
            position: absolute;
            top: 100%;
            right: 0;
            margin-top: 0.5rem;
            background: rgba(255, 255, 255, 0.95);
            border: 1px solid rgba(229, 231, 235, 0.8);
            border-radius: 0.75rem;
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
            opacity: 0;
            pointer-events: none;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            z-index: 9999;
            min-width: 220px;
            backdrop-filter: blur(12px);
            display: block;
            visibility: hidden;
        }
        
        .language-dropdown.opacity-100 {
            opacity: 1 !important;
            pointer-events: auto !important;
            transform: translateY(0) scale(1) !important;
            visibility: visible !important;
        }
        
        .dark .language-dropdown {
            background: rgba(55, 65, 81, 0.95);
            border-color: rgba(75, 85, 99, 0.8);
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.3), 0 10px 10px -5px rgba(0, 0, 0, 0.2);
        }

        .dropdown-content {
            padding: 0.5rem;
        }

        .dropdown-item {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            padding: 0.75rem 1rem;
            border-radius: 0.5rem;
            color: #374151;
            text-decoration: none;
            transition: all 0.2s ease;
            font-size: 0.875rem;
        }

        .dropdown-item:hover {
            background: rgba(185, 28, 28, 0.1);
            color: #B91C1C;
        }

        .dark .dropdown-item {
            color: #D1D5DB;
        }

        .dark .dropdown-item:hover {
            background: rgba(185, 28, 28, 0.2);
            color: #F59E0B;
        }

        .flag {
            font-size: 1.25rem;
        }

        /* Property Cards */
        .property-card {
            background: white;
            border-radius: 1rem;
            overflow: hidden;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
        }

        .property-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1);
        }

        .dark .property-card {
            background: #1F2937;
        }

        /* Market Analytics */
        .analytics-card {
            background: linear-gradient(135deg, #FEFEFE 0%, #F8F6F0 100%);
            border-radius: 1rem;
            padding: 1.5rem;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
        }

        .dark .analytics-card {
            background: linear-gradient(135deg, #1F2937 0%, #111827 100%);
        }

        /* Skip Link */
        .skip-link {
            position: absolute;
            top: -40px;
            left: 6px;
            background: #B91C1C;
            color: white;
            padding: 8px;
            text-decoration: none;
            border-radius: 4px;
            z-index: 10000;
        }

        .skip-link:focus {
            top: 6px;
        }

        /* Golden Mobile Navigation Links */
        .mobile-nav-link-golden {
            display: flex;
            align-items: center;
            gap: 1rem;
            padding: 1rem;
            border-radius: 0.75rem;
            color: #FEFEFE !important;
            text-decoration: none;
            transition: all 0.3s ease;
            background: linear-gradient(135deg, rgba(180, 83, 9, 0.1), rgba(180, 83, 9, 0.05));
            border: 1px solid rgba(180, 83, 9, 0.2);
            backdrop-filter: blur(10px);
        }

        .mobile-nav-link-golden:hover {
            background: linear-gradient(135deg, rgba(180, 83, 9, 0.2), rgba(180, 83, 9, 0.1));
            color: #F59E0B !important;
            transform: translateX(4px);
            border-color: rgba(180, 83, 9, 0.4);
            box-shadow: 0 4px 12px rgba(180, 83, 9, 0.2);
        }

        .mobile-nav-link-golden .mobile-nav-text {
            flex: 1;
            font-weight: 600;
            color: #FEFEFE !important;
        }

        .mobile-nav-link-golden:hover .mobile-nav-text {
            color: #F59E0B !important;
        }

        .mobile-nav-link-golden .mobile-nav-arrow {
            color: #F59E0B !important;
            font-weight: 700;
            transition: transform 0.3s ease;
        }

        .mobile-nav-link-golden:hover .mobile-nav-arrow {
            transform: translateX(6px);
            color: #FCD34D !important;
        }

        /* Golden Contact Link */
        .contact-link-golden {
            display: flex;
            align-items: center;
            gap: 1rem;
            padding: 1rem;
            border-radius: 0.75rem;
            background: linear-gradient(135deg, rgba(180, 83, 9, 0.15), rgba(180, 83, 9, 0.05));
            color: #FEFEFE !important;
            text-decoration: none;
            transition: all 0.3s ease;
            border: 1px solid rgba(180, 83, 9, 0.3);
            backdrop-filter: blur(10px);
        }

        .contact-link-golden:hover {
            background: linear-gradient(135deg, rgba(180, 83, 9, 0.25), rgba(180, 83, 9, 0.1));
            color: #F59E0B !important;
            transform: translateX(4px);
            border-color: rgba(180, 83, 9, 0.5);
            box-shadow: 0 4px 12px rgba(180, 83, 9, 0.3);
        }

        .contact-link-golden .contact-text {
            flex: 1;
            font-weight: 600;
            color: #FEFEFE !important;
        }

        .contact-link-golden:hover .contact-text {
            color: #F59E0B !important;
        }

        .contact-link-golden .contact-arrow {
            color: #F59E0B !important;
            font-weight: 700;
            transition: transform 0.3s ease;
        }

        .contact-link-golden:hover .contact-arrow {
            transform: translateX(6px);
            color: #FCD34D !important;
        }

        /* Dark mode overrides to ensure visibility */
        html.dark .mobile-nav-link-golden {
            color: #FEFEFE !important;
            background: linear-gradient(135deg, rgba(180, 83, 9, 0.2), rgba(180, 83, 9, 0.1));
        }

        html.dark .mobile-nav-link-golden .mobile-nav-text {
            color: #FEFEFE !important;
        }

        html.dark .mobile-nav-link-golden .mobile-nav-arrow {
            color: #F59E0B !important;
        }

        html.dark .contact-link-golden {
            color: #FEFEFE !important;
            background: linear-gradient(135deg, rgba(180, 83, 9, 0.25), rgba(180, 83, 9, 0.1));
        }

        html.dark .contact-link-golden .contact-text {
            color: #FEFEFE !important;
        }

        html.dark .contact-link-golden .contact-arrow {
            color: #F59E0B !important;
        }

        /* Light mode overrides to ensure proper colors */
        html:not(.dark) .mobile-nav-link-golden {
            color: #000000 !important;
            background: linear-gradient(135deg, rgba(180, 83, 9, 0.1), rgba(180, 83, 9, 0.05));
        }

        html:not(.dark) .mobile-nav-link-golden .mobile-nav-text {
            color: #FFFFFF !important;
        }

        html:not(.dark) .mobile-nav-link-golden .mobile-nav-arrow {
            color: #B45309 !important;
        }

        html:not(.dark) .contact-link-golden {
            color: #000000 !important;
            background: linear-gradient(135deg, rgba(180, 83, 9, 0.15), rgba(180, 83, 9, 0.05));
        }

        html:not(.dark) .contact-link-golden .contact-text {
            color: #FFFFFF !important;
        }

        html:not(.dark) .contact-link-golden .contact-arrow {
            color: #B45309 !important;
        }

        /* Force dark background for mobile action buttons in light mode */
        html:not(.dark) #mobile-language-toggle,
        html:not(.dark) #mobile-theme-toggle,
        html:not(.dark) #mobile-menu-button {
            background: rgba(55, 65, 81, 0.9) !important;
            border-color: rgba(75, 85, 99, 0.8) !important;
        }

        /* Ensure proper contrast for mobile action buttons */
        html:not(.dark) #mobile-language-toggle:hover,
        html:not(.dark) #mobile-theme-toggle:hover,
        html:not(.dark) #mobile-menu-button:hover {
            background: rgba(75, 85, 99, 0.9) !important;
            color: #FFFFFF !important;
        }
    </style>
</head>
<body class="bg-washi text-sumi dark:bg-sumi dark:text-gofun">
    <!-- Skip Link for Accessibility -->
    <a href="#main-content" class="skip-link">メインコンテンツにスキップ</a>

    <!-- Header -->
    <header id="header" class="bg-white/95 backdrop-blur-sm dark:bg-sumi/95 border-b border-zen dark:border-aiiro shadow-sm">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <!-- Logo -->
                <div class="flex items-center">
                    <a href="/" class="flex items-center space-x-2 group">
                        <div class="w-8 h-8 bg-gradient-to-br from-shinku to-kobicha rounded-lg flex items-center justify-center">
                            <img src="/images/mrkyoto-logo.png" alt="MrKyoto ロゴ" width="32" height="32" class="rounded-lg">
                        </div>
                        <span class="text-xl font-serif font-semibold text-ink-black dark:text-gofun group-hover:text-shinku transition-colors">MrKyoto</span>
                    </a>
                </div>
                
                <!-- Desktop Navigation -->
                <nav class="hidden lg:flex items-center space-x-1">
                    <a href="/" class="nav-link-desktop">
                        <span class="nav-text">Home</span>
                    </a>
                    <a href="/activities/" class="nav-link-desktop">
                        <span class="nav-text">Activities</span>
                    </a>
                    <a href="/real-estate/" class="nav-link-desktop">
                        <span class="nav-text">Real Estate</span>
                    </a>
                    <a href="/events/" class="nav-link-desktop">
                        <span class="nav-text">Events</span>
                    </a>
                    <a href="/news/" class="nav-link-desktop">
                        <span class="nav-text">News</span>
                    </a>
                    <a href="/live-from-kyoto/" class="nav-link-desktop">
                        <span class="nav-text">Live from Kyoto</span>
                    </a>
                </nav>
                
                <!-- Right side actions (Desktop only) -->
                <div class="hidden lg:flex items-center space-x-2">
                    <!-- Language toggle -->
                        <button id="language-toggle" class="action-button" data-tooltip="Language">
                            <span class="text-sm font-medium">🇬🇧</span>
                        </button>
                    
                    <!-- Dark mode toggle -->
                    <button id="theme-toggle" class="action-button" data-tooltip="Theme Toggle">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"></path>
                        </svg>
                    </button>
                </div>
                
                <!-- Mobile actions -->
                <div class="lg:hidden flex items-center space-x-2">
                    <!-- Language toggle -->
                    <button id="mobile-language-toggle" class="action-button text-white" data-tooltip="Language">
                        <span class="text-sm font-medium">🇬🇧</span>
                    </button>
                    
                    <!-- Dark mode toggle -->
                    <button id="mobile-theme-toggle" class="action-button text-white" data-tooltip="Theme Toggle">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"></path>
                        </svg>
                    </button>
                    
                    <!-- Mobile menu button -->
                    <button id="mobile-menu-button" class="action-button text-white">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
                        </svg>
                    </button>
                </div>
            </div>
            
            <!-- Mobile Navigation -->
            <div id="mobile-menu" class="lg:hidden hidden bg-gradient-to-br from-sumi to-aiiro border-t border-kincha/30">
                <div class="px-4 py-6 space-y-3">
                    <a href="/" class="mobile-nav-link-golden">
                        <span class="mobile-nav-text">Home</span>
                        <span class="mobile-nav-arrow">→</span>
                    </a>
                    <a href="/activities/" class="mobile-nav-link-golden">
                        <span class="mobile-nav-text">Activities</span>
                        <span class="mobile-nav-arrow">→</span>
                    </a>
                    <a href="/real-estate/" class="mobile-nav-link-golden">
                        <span class="mobile-nav-text">Real Estate</span>
                        <span class="mobile-nav-arrow">→</span>
                    </a>
                    <a href="/events/" class="mobile-nav-link-golden">
                        <span class="mobile-nav-text">Events</span>
                        <span class="mobile-nav-arrow">→</span>
                    </a>
                    <a href="/news/" class="mobile-nav-link-golden">
                        <span class="mobile-nav-text">News</span>
                        <span class="mobile-nav-arrow">→</span>
                    </a>
                    <a href="/live-from-kyoto/" class="mobile-nav-link-golden">
                        <span class="mobile-nav-text">Live from Kyoto</span>
                        <span class="mobile-nav-arrow">→</span>
                    </a>
                    
                    <!-- Contact link -->
                    <a href="mailto:hello@mrkyoto.com" class="contact-link-golden">
                        <span class="contact-icon">✉️</span>
                        <span class="contact-text">Contact Us</span>
                        <span class="contact-arrow">→</span>
                    </a>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main id="main-content" class="min-h-screen">
        <!-- Hero Section -->
        <section class="relative bg-gradient-to-br from-[#d9c289] via-[#000000] to-[#d9c289] text-white py-16 md:py-20 lg:py-24 overflow-hidden">
            <!-- Animated Background Elements -->
            <div class="absolute inset-0">
                <div class="absolute top-20 left-10 w-32 h-32 bg-white/5 rounded-full blur-3xl animate-pulse"></div>
                <div class="absolute bottom-20 right-10 w-40 h-40 bg-[#d9c289]/10 rounded-full blur-3xl animate-pulse delay-1000"></div>
                <div class="absolute top-1/2 left-1/4 w-24 h-24 bg-yellow-300/10 rounded-full blur-2xl animate-pulse delay-500"></div>
            </div>
            
            <div class="relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="grid grid-cols-1 lg:grid-cols-4 gap-8 lg:gap-12 items-center">
                    <!-- Hero Content -->
                    <div class="lg:col-span-2 space-y-8">
                        <div class="space-y-6">
                            <div class="inline-flex items-center px-4 py-2 rounded-full text-sm font-medium bg-white/15 backdrop-blur-sm border border-white/20 text-white/90 shadow-lg">
                                <span class="w-2 h-2 bg-[#d9c289] rounded-full mr-3 animate-pulse"></span>
                                <span>Premium Properties</span>
                        </div>
                        
                            <h1 class="font-serif text-4xl sm:text-5xl md:text-6xl font-bold leading-tight">
                            Buy Your Dream
                                <span class="block bg-gradient-to-r from-yellow-300 via-orange-300 to-yellow-200 bg-clip-text text-transparent">
                                Kyoto Machiya
                            </span>
                        </h1>
                        
                            <p class="text-lg md:text-xl opacity-95 leading-relaxed max-w-2xl">
                            Discover premium real estate in Kyoto's most prestigious districts.
                            <span class="font-semibold text-yellow-200">Traditional machiya</span>,
                                <span class="font-semibold text-yellow-200">modern apartments</span>, and exclusive properties.
                            </p>
                        </div>
                    </div>
                                    </div>
                                </div>
         </section>

        <!-- Search and Filter Section -->


        <!-- All Properties Section - Simple Layout -->
        <section class="py-6 md:py-8 lg:py-12 bg-white dark:bg-sumi">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="flex flex-col md:flex-row md:justify-between md:items-center gap-4 mb-6 lg:mb-8">
                    <div class="flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-4">
                        <h2 class="text-xl sm:text-2xl lg:text-3xl font-serif font-bold text-sumi dark:text-gofun">
                            🏠 All Properties in Kyoto
                        </h2>
                        <p class="text-sm text-sumi/70 dark:text-gofun/70">
                            Complete listing of all sale and rental properties
                        </p>
                    </div>
                    <div class="flex gap-2 lg:gap-3">
                        <button id="filter-sale" class="px-3 py-1.5 lg:px-4 lg:py-2 text-sm lg:text-base bg-[#000000] text-white rounded hover:bg-[#000000]/80 transition-colors" style="color: white !important;">
                            For Sale
                        </button>
                        <button id="filter-rent" class="px-3 py-1.5 lg:px-4 lg:py-2 text-sm lg:text-base bg-gray-300 text-gray-700 rounded hover:bg-gray-400 transition-colors">
                            For Rent
                        </button>
                        <button id="filter-all" class="px-3 py-1.5 lg:px-4 lg:py-2 text-sm lg:text-base bg-gray-300 text-gray-700 rounded hover:bg-gray-400 transition-colors">
                            All
                        </button>
                    </div>
                </div>
                
                <div id="all-properties-container" class="space-y-6 md:space-y-8 max-w-6xl mx-auto">
                    <!-- All properties will be dynamically loaded here -->
                            </div>
                            </div>
        </section>
                            <div class="mb-4">
                                <div class="text-sm font-medium text-sumi dark:text-gofun mb-2">Features:</div>
                                <div class="flex flex-wrap gap-1">
                                    <span class="bg-[#d9c289]/20 dark:bg-[#d9c289]/30 text-[#d9c289] dark:text-white text-xs px-2 py-1 rounded">Mountain views</span>
                                    <span class="bg-[#d9c289]/20 dark:bg-[#d9c289]/30 text-[#d9c289] dark:text-white text-xs px-2 py-1 rounded">Balcony</span>
                                    <button class="text-[#d9c289] dark:text-white text-xs hover:underline">+6 more</button>
                                </div>
                            </div>
                            <div class="flex gap-2">
                                <button onclick="realEstateManager.showPropertyModal('sale-002')" class="flex-1 bg-[#000000] text-white py-2 px-3 rounded text-sm font-medium hover:bg-[#000000]/80 transition-colors text-center" style="color: white !important;">View Details</button>
                                <a href="tel:+81-75-123-4567" class="flex-1 bg-[#d9c289] text-white py-2 px-3 rounded text-sm font-medium hover:bg-[#d9c289]/80 transition-colors text-center">Contact</a>
                            </div>
                        </div>
                    </div>

                    <!-- Property Card 3: Ultra-Luxury Villa -->
                    <div class="bg-white dark:bg-sumi rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 overflow-hidden">
                        <div class="relative">
                            <img src="/images/kiyomizu-dera.jpg" alt="Ultra-Luxury Villa in Higashiyama" class="w-full h-48 object-cover">
                            <div class="absolute top-3 left-3">
                                <span class="bg-red-500 text-white text-xs px-2 py-1 rounded">For Sale</span>
                            </div>
                            <div class="absolute top-3 right-3">
                                <span class="bg-gray-500 text-white text-xs px-2 py-1 rounded">82 Walk</span>
                            </div>
                            <div class="absolute bottom-3 right-3">
                                <span class="bg-[#d9c289] text-white text-xs px-2 py-1 rounded">Verified</span>
                            </div>
                        </div>
                        <div class="p-4">
                            <h3 class="font-semibold text-lg text-sumi dark:text-gofun mb-2">Ultra-Luxury Villa in Higashiyama</h3>
                            <div class="text-2xl font-bold text-sumi dark:text-gofun mb-1">¥220,000,000</div>
                            <div class="text-sm text-sumi/70 dark:text-gofun/70 mb-3">$1,466,667</div>
                            <div class="flex items-center text-sm text-sumi/70 dark:text-gofun/70 mb-3">
                                <span class="mr-2">📍</span>
                                <span>Higashiyama District</span>
                            </div>
                            <div class="flex items-center text-sm text-sumi/70 dark:text-gofun/70 mb-4">
                                <span class="mr-2">🏘️</span>
                                <span>Higashiyama</span>
                            </div>
                            <div class="flex gap-2 mb-4">
                                <span class="bg-gray-600 text-white text-xs px-2 py-1 rounded" style="background-color: #4B5563 !important; color: white !important;">5 Bed</span>
                                <span class="bg-gray-600 text-white text-xs px-2 py-1 rounded" style="background-color: #4B5563 !important; color: white !important;">4 Bath</span>
                                <span class="bg-gray-600 text-white text-xs px-2 py-1 rounded" style="background-color: #4B5563 !important; color: white !important;">320 sqm</span>
                            </div>
                            <div class="mb-4">
                                <div class="text-sm font-medium text-sumi dark:text-gofun mb-2">Features:</div>
                                <div class="flex flex-wrap gap-1">
                                    <span class="bg-[#d9c289]/20 dark:bg-[#d9c289]/30 text-[#d9c289] dark:text-white text-xs px-2 py-1 rounded">Private hot spring</span>
                                    <span class="bg-[#d9c289]/20 dark:bg-[#d9c289]/30 text-[#d9c289] dark:text-white text-xs px-2 py-1 rounded">Mountain views</span>
                                    <button class="text-[#d9c289] dark:text-white text-xs hover:underline">+7 more</button>
                                </div>
                            </div>
                            <div class="flex gap-2">
                                <button onclick="realEstateManager.showPropertyModal('sale-003')" class="flex-1 bg-[#000000] text-white py-2 px-3 rounded text-sm font-medium hover:bg-[#000000]/80 transition-colors text-center" style="color: white !important;">View Details</button>
                                <a href="tel:+81-75-123-4567" class="flex-1 bg-[#d9c289] text-white py-2 px-3 rounded text-sm font-medium hover:bg-[#d9c289]/80 transition-colors text-center">Contact</a>
                            </div>
                        </div>
                    </div>

                    <!-- Property Card 4: Premium Townhouse -->
                    <div class="bg-white dark:bg-sumi rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 overflow-hidden">
                        <div class="relative">
                            <img src="/images/gion-district.jpg" alt="Premium Townhouse in Nakagyo" class="w-full h-48 object-cover">
                            <div class="absolute top-3 left-3">
                                <span class="bg-red-500 text-white text-xs px-2 py-1 rounded">For Sale</span>
                            </div>
                            <div class="absolute top-3 right-3">
                                <span class="bg-gray-500 text-white text-xs px-2 py-1 rounded">92 Walk</span>
                            </div>
                            <div class="absolute bottom-3 right-3">
                                <span class="bg-[#d9c289] text-white text-xs px-2 py-1 rounded">Verified</span>
                            </div>
                        </div>
                        <div class="p-4">
                            <h3 class="font-semibold text-lg text-sumi dark:text-gofun mb-2">Premium Townhouse in Nakagyo</h3>
                            <div class="text-2xl font-bold text-sumi dark:text-gofun mb-1">¥78,000,000</div>
                            <div class="text-sm text-sumi/70 dark:text-gofun/70 mb-3">$520,000</div>
                            <div class="flex items-center text-sm text-sumi/70 dark:text-gofun/70 mb-3">
                                <span class="mr-2">📍</span>
                                <span>Nakagyo Ward, Central Kyoto</span>
                            </div>
                            <div class="flex items-center text-sm text-sumi/70 dark:text-gofun/70 mb-4">
                                <span class="mr-2">🏘️</span>
                                <span>Nakagyo</span>
                            </div>
                            <div class="flex gap-2 mb-4">
                                <span class="bg-gray-600 text-white text-xs px-2 py-1 rounded" style="background-color: #4B5563 !important; color: white !important;">4 Bed</span>
                                <span class="bg-gray-600 text-white text-xs px-2 py-1 rounded" style="background-color: #4B5563 !important; color: white !important;">3 Bath</span>
                                <span class="bg-gray-600 text-white text-xs px-2 py-1 rounded" style="background-color: #4B5563 !important; color: white !important;">165 sqm</span>
                            </div>
                            <div class="mb-4">
                                <div class="text-sm font-medium text-sumi dark:text-gofun mb-2">Features:</div>
                                <div class="flex flex-wrap gap-1">
                                    <span class="bg-[#d9c289]/20 dark:bg-[#d9c289]/30 text-[#d9c289] dark:text-white text-xs px-2 py-1 rounded">Central location</span>
                                    <span class="bg-[#d9c289]/20 dark:bg-[#d9c289]/30 text-[#d9c289] dark:text-white text-xs px-2 py-1 rounded">Private parking</span>
                                    <button class="text-[#d9c289] dark:text-white text-xs hover:underline">+6 more</button>
                                </div>
                            </div>
                            <div class="flex gap-2">
                                <button onclick="realEstateManager.showPropertyModal('sale-004')" class="flex-1 bg-[#000000] text-white py-2 px-3 rounded text-sm font-medium hover:bg-[#000000]/80 transition-colors text-center" style="color: white !important;">View Details</button>
                                <a href="tel:+81-75-123-4567" class="flex-1 bg-[#d9c289] text-white py-2 px-3 rounded text-sm font-medium hover:bg-[#d9c289]/80 transition-colors text-center">Contact</a>
                            </div>
                        </div>
                    </div>

                    <!-- Property Card 5: Historic Kyo-machiya -->
                    <div class="bg-white dark:bg-sumi rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 overflow-hidden">
                        <div class="relative">
                            <img src="/images/arashiyama-bamboo.jpg" alt="Historic Kyo-machiya in Pontocho" class="w-full h-48 object-cover">
                            <div class="absolute top-3 left-3">
                                <span class="bg-red-500 text-white text-xs px-2 py-1 rounded">For Sale</span>
                            </div>
                            <div class="absolute top-3 right-3">
                                <span class="bg-gray-500 text-white text-xs px-2 py-1 rounded">94 Walk</span>
                            </div>
                            <div class="absolute bottom-3 right-3">
                                <span class="bg-[#d9c289] text-white text-xs px-2 py-1 rounded">Verified</span>
                            </div>
                        </div>
                        <div class="p-4">
                            <h3 class="font-semibold text-lg text-sumi dark:text-gofun mb-2">Historic Kyo-machiya in Pontocho</h3>
                            <div class="text-2xl font-bold text-sumi dark:text-gofun mb-1">¥68,000,000</div>
                            <div class="text-sm text-sumi/70 dark:text-gofun/70 mb-3">$453,333</div>
                            <div class="flex items-center text-sm text-sumi/70 dark:text-gofun/70 mb-3">
                                <span class="mr-2">📍</span>
                                <span>Pontocho District, Nakagyo Ward</span>
                            </div>
                            <div class="flex items-center text-sm text-sumi/70 dark:text-gofun/70 mb-4">
                                <span class="mr-2">🏘️</span>
                                <span>Pontocho</span>
                            </div>
                            <div class="flex gap-2 mb-4">
                                <span class="bg-gray-600 text-white text-xs px-2 py-1 rounded" style="background-color: #4B5563 !important; color: white !important;">2 Bed</span>
                                <span class="bg-gray-600 text-white text-xs px-2 py-1 rounded" style="background-color: #4B5563 !important; color: white !important;">1 Bath</span>
                                <span class="bg-gray-600 text-white text-xs px-2 py-1 rounded" style="background-color: #4B5563 !important; color: white !important;">95 sqm</span>
                            </div>
                            <div class="mb-4">
                                <div class="text-sm font-medium text-sumi dark:text-gofun mb-2">Features:</div>
                                <div class="flex flex-wrap gap-1">
                                    <span class="bg-[#d9c289]/20 dark:bg-[#d9c289]/30 text-[#d9c289] dark:text-white text-xs px-2 py-1 rounded">Historic architecture</span>
                                    <span class="bg-[#d9c289]/20 dark:bg-[#d9c289]/30 text-[#d9c289] dark:text-white text-xs px-2 py-1 rounded">River views</span>
                                    <button class="text-[#d9c289] dark:text-white text-xs hover:underline">+5 more</button>
                                </div>
                            </div>
                            <div class="flex gap-2">
                                <button onclick="realEstateManager.showPropertyModal('sale-005')" class="flex-1 bg-[#000000] text-white py-2 px-3 rounded text-sm font-medium hover:bg-[#000000]/80 transition-colors text-center" style="color: white !important;">View Details</button>
                                <a href="tel:+81-75-123-4567" class="flex-1 bg-[#d9c289] text-white py-2 px-3 rounded text-sm font-medium hover:bg-[#d9c289]/80 transition-colors text-center">Contact</a>
                            </div>
                        </div>
                    </div>

                    <!-- Property Card 6: Modern Penthouse -->
                    <div class="bg-white dark:bg-sumi rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 overflow-hidden">
                        <div class="relative">
                            <img src="/images/fushimi-inari.jpg" alt="Modern Penthouse in Kamigyo" class="w-full h-48 object-cover">
                            <div class="absolute top-3 left-3">
                                <span class="bg-red-500 text-white text-xs px-2 py-1 rounded">For Sale</span>
                            </div>
                            <div class="absolute top-3 right-3">
                                <span class="bg-gray-500 text-white text-xs px-2 py-1 rounded">89 Walk</span>
                            </div>
                            <div class="absolute bottom-3 right-3">
                                <span class="bg-[#d9c289] text-white text-xs px-2 py-1 rounded">Verified</span>
                            </div>
                        </div>
                        <div class="p-4">
                            <h3 class="font-semibold text-lg text-sumi dark:text-gofun mb-2">Modern Penthouse in Kamigyo</h3>
                            <div class="text-2xl font-bold text-sumi dark:text-gofun mb-1">¥125,000,000</div>
                            <div class="text-sm text-sumi/70 dark:text-gofun/70 mb-3">$833,333</div>
                            <div class="flex items-center text-sm text-sumi/70 dark:text-gofun/70 mb-3">
                                <span class="mr-2">📍</span>
                                <span>Kamigyo Ward, Near Imperial Palace</span>
                            </div>
                            <div class="flex items-center text-sm text-sumi/70 dark:text-gofun/70 mb-4">
                                <span class="mr-2">🏘️</span>
                                <span>Kamigyo</span>
                            </div>
                            <div class="flex gap-2 mb-4">
                                <span class="bg-gray-600 text-white text-xs px-2 py-1 rounded" style="background-color: #4B5563 !important; color: white !important;">3 Bed</span>
                                <span class="bg-gray-600 text-white text-xs px-2 py-1 rounded" style="background-color: #4B5563 !important; color: white !important;">2 Bath</span>
                                <span class="bg-gray-600 text-white text-xs px-2 py-1 rounded" style="background-color: #4B5563 !important; color: white !important;">180 sqm</span>
                            </div>
                            <div class="mb-4">
                                <div class="text-sm font-medium text-sumi dark:text-gofun mb-2">Features:</div>
                                <div class="flex flex-wrap gap-1">
                                    <span class="bg-[#d9c289]/20 dark:bg-[#d9c289]/30 text-[#d9c289] dark:text-white text-xs px-2 py-1 rounded">Penthouse views</span>
                                    <span class="bg-[#d9c289]/20 dark:bg-[#d9c289]/30 text-[#d9c289] dark:text-white text-xs px-2 py-1 rounded">Terrace</span>
                                    <button class="text-[#d9c289] dark:text-white text-xs hover:underline">+6 more</button>
                                </div>
                            </div>
                            <div class="flex gap-2">
                                <button onclick="realEstateManager.showPropertyModal('sale-006')" class="flex-1 bg-[#000000] text-white py-2 px-3 rounded text-sm font-medium hover:bg-[#000000]/80 transition-colors text-center" style="color: white !important;">View Details</button>
                                <a href="tel:+81-75-123-4567" class="flex-1 bg-[#d9c289] text-white py-2 px-3 rounded text-sm font-medium hover:bg-[#d9c289]/80 transition-colors text-center">Contact</a>
                            </div>
                        </div>
                    </div>

                    <!-- Property Card 7: Traditional House -->
                    <div class="bg-white dark:bg-sumi rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 overflow-hidden">
                        <div class="relative">
                            <img src="/images/kiyomizu-dera.jpg" alt="Traditional House in Kiyomizu" class="w-full h-48 object-cover">
                            <div class="absolute top-3 left-3">
                                <span class="bg-red-500 text-white text-xs px-2 py-1 rounded">For Sale</span>
                            </div>
                            <div class="absolute top-3 right-3">
                                <span class="bg-gray-500 text-white text-xs px-2 py-1 rounded">91 Walk</span>
                            </div>
                            <div class="absolute bottom-3 right-3">
                                <span class="bg-[#d9c289] text-white text-xs px-2 py-1 rounded">Verified</span>
                            </div>
                        </div>
                        <div class="p-4">
                            <h3 class="font-semibold text-lg text-sumi dark:text-gofun mb-2">Traditional House in Kiyomizu</h3>
                            <div class="text-2xl font-bold text-sumi dark:text-gofun mb-1">¥88,000,000</div>
                            <div class="text-sm text-sumi/70 dark:text-gofun/70 mb-3">$586,667</div>
                            <div class="flex items-center text-sm text-sumi/70 dark:text-gofun/70 mb-3">
                                <span class="mr-2">📍</span>
                                <span>Kiyomizu District, Higashiyama Ward</span>
                            </div>
                            <div class="flex items-center text-sm text-sumi/70 dark:text-gofun/70 mb-4">
                                <span class="mr-2">🏘️</span>
                                <span>Kiyomizu</span>
                            </div>
                            <div class="flex gap-2 mb-4">
                                <span class="bg-gray-600 text-white text-xs px-2 py-1 rounded" style="background-color: #4B5563 !important; color: white !important;">4 Bed</span>
                                <span class="bg-gray-600 text-white text-xs px-2 py-1 rounded" style="background-color: #4B5563 !important; color: white !important;">2 Bath</span>
                                <span class="bg-gray-600 text-white text-xs px-2 py-1 rounded" style="background-color: #4B5563 !important; color: white !important;">140 sqm</span>
                            </div>
                            <div class="mb-4">
                                <div class="text-sm font-medium text-sumi dark:text-gofun mb-2">Features:</div>
                                <div class="flex flex-wrap gap-1">
                                    <span class="bg-[#d9c289]/20 dark:bg-[#d9c289]/30 text-[#d9c289] dark:text-white text-xs px-2 py-1 rounded">Temple views</span>
                                    <span class="bg-[#d9c289]/20 dark:bg-[#d9c289]/30 text-[#d9c289] dark:text-white text-xs px-2 py-1 rounded">Traditional architecture</span>
                                    <button class="text-[#d9c289] dark:text-white text-xs hover:underline">+5 more</button>
                                </div>
                            </div>
                            <div class="flex gap-2">
                                <button onclick="realEstateManager.showPropertyModal('sale-007')" class="flex-1 bg-[#000000] text-white py-2 px-3 rounded text-sm font-medium hover:bg-[#000000]/80 transition-colors text-center" style="color: white !important;">View Details</button>
                                <a href="tel:+81-75-123-4567" class="flex-1 bg-[#d9c289] text-white py-2 px-3 rounded text-sm font-medium hover:bg-[#d9c289]/80 transition-colors text-center">Contact</a>
                            </div>
                        </div>
                    </div>

                    <!-- Property Card 8: Contemporary Apartment -->
                    <div class="bg-white dark:bg-sumi rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 overflow-hidden">
                        <div class="relative">
                            <img src="/images/gion-district.jpg" alt="Contemporary Apartment in Shimogyo" class="w-full h-48 object-cover">
                            <div class="absolute top-3 left-3">
                                <span class="bg-red-500 text-white text-xs px-2 py-1 rounded">For Sale</span>
                            </div>
                            <div class="absolute top-3 right-3">
                                <span class="bg-gray-500 text-white text-xs px-2 py-1 rounded">87 Walk</span>
                            </div>
                            <div class="absolute bottom-3 right-3">
                                <span class="bg-[#d9c289] text-white text-xs px-2 py-1 rounded">Verified</span>
                            </div>
                        </div>
                        <div class="p-4">
                            <h3 class="font-semibold text-lg text-sumi dark:text-gofun mb-2">Contemporary Apartment in Shimogyo</h3>
                            <div class="text-2xl font-bold text-sumi dark:text-gofun mb-1">¥42,000,000</div>
                            <div class="text-sm text-sumi/70 dark:text-gofun/70 mb-3">$280,000</div>
                            <div class="flex items-center text-sm text-sumi/70 dark:text-gofun/70 mb-3">
                                <span class="mr-2">📍</span>
                                <span>Shimogyo Ward, Near Kyoto Station</span>
                            </div>
                            <div class="flex items-center text-sm text-sumi/70 dark:text-gofun/70 mb-4">
                                <span class="mr-2">🏘️</span>
                                <span>Shimogyo</span>
                            </div>
                            <div class="flex gap-2 mb-4">
                                <span class="bg-gray-600 text-white text-xs px-2 py-1 rounded" style="background-color: #4B5563 !important; color: white !important;">2 Bed</span>
                                <span class="bg-gray-600 text-white text-xs px-2 py-1 rounded" style="background-color: #4B5563 !important; color: white !important;">1 Bath</span>
                                <span class="bg-gray-600 text-white text-xs px-2 py-1 rounded" style="background-color: #4B5563 !important; color: white !important;">70 sqm</span>
                            </div>
                            <div class="mb-4">
                                <div class="text-sm font-medium text-sumi dark:text-gofun mb-2">Features:</div>
                                <div class="flex flex-wrap gap-1">
                                    <span class="bg-[#d9c289]/20 dark:bg-[#d9c289]/30 text-[#d9c289] dark:text-white text-xs px-2 py-1 rounded">Near Kyoto Station</span>
                                    <span class="bg-[#d9c289]/20 dark:bg-[#d9c289]/30 text-[#d9c289] dark:text-white text-xs px-2 py-1 rounded">Modern amenities</span>
                                    <button class="text-[#d9c289] dark:text-white text-xs hover:underline">+5 more</button>
                                </div>
                            </div>
                            <div class="flex gap-2">
                                <button onclick="realEstateManager.showPropertyModal('sale-008')" class="flex-1 bg-[#000000] text-white py-2 px-3 rounded text-sm font-medium hover:bg-[#000000]/80 transition-colors text-center" style="color: white !important;">View Details</button>
                                <a href="tel:+81-75-123-4567" class="flex-1 bg-[#d9c289] text-white py-2 px-3 rounded text-sm font-medium hover:bg-[#d9c289]/80 transition-colors text-center">Contact</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>



        <!-- LIVE FROM KYOTO WIDGET -->
        <section class="py-6 md:py-8 lg:py-12 bg-washi dark:bg-aiiro">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <!-- Live from Kyoto Widget -->
                <div class="zen-card p-6 bg-gradient-to-br from-washi/50 to-sumi/5 dark:from-gray-800/50 dark:to-gray-700/5 border border-sumi/10 dark:border-gray-600/10">
                    <!-- Widget Header -->
                    <div class="flex items-center justify-between mb-6">
                        <div class="flex items-center gap-3">
                            <div class="w-10 h-10 bg-gradient-to-r from-kurenai to-pink-500 rounded-full flex items-center justify-center">
                                <span class="text-white text-lg">🎥</span>
                            </div>
                            <div>
                                <h3 class="text-xl font-bold text-sumi dark:text-white">Live from Kyoto</h3>
                                <p class="text-sm text-sumi/60 dark:text-gray-400">Real-time cameras, weather & social updates</p>
                            </div>
                        </div>
                </div>
                
                    <!-- Main Content Grid -->
                    <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                        
                        <!-- Live Camera Section -->
                        <div class="lg:col-span-2">
                            <div class="bg-black rounded-lg overflow-hidden shadow-lg">
                                <!-- Camera Controls -->
                                <div class="bg-sumi/90 text-white p-3 flex items-center justify-between">
                                    <div class="flex items-center gap-3">
                                        <button id="camera-prev" class="p-2 hover:bg-white/20 rounded-lg transition-colors">
                                            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
                                            </svg>
                                        </button>
                                        <div class="text-center">
                                            <h4 id="camera-title" class="font-semibold">Kyoto Station Bus Terminal</h4>
                                            <p id="camera-description" class="text-sm text-gray-300">Live view of Kyoto Station bus terminal and surrounding area</p>
                    </div>
                                        <button id="camera-next" class="p-2 hover:bg-white/20 rounded-lg transition-colors">
                                            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                                            </svg>
                                        </button>
                    </div>
                                    <div class="flex items-center gap-2">
                                        <span id="camera-counter" class="text-sm bg-white/20 px-2 py-1 rounded">1 / 15</span>
                                        <button class="p-2 hover:bg-white/20 rounded-lg transition-colors" title="Fullscreen">
                                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 0l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5l-5-5m5 5v-4m0 4h-4"></path>
                                            </svg>
                                        </button>
                    </div>
                </div>
                                
                                <!-- Camera Embed -->
                                <div id="camera-embed" class="aspect-video bg-gray-900">
                                    <iframe 
                                        src="https://www.youtube.com/embed/v9rQqa_VTEY?autoplay=1&mute=1" 
                                        class="w-full h-full"
                                        frameborder="0" 
                                        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
                                        allowfullscreen>
                                    </iframe>
            </div>
                            </div>
                        </div>

                        <!-- Weather & Social Sidebar -->
                        <div class="space-y-6">
                            
                            <!-- Enhanced Weather Widget -->
                            <div class="bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-900/20 dark:to-blue-800/20 rounded-2xl p-6 border border-blue-200 dark:border-blue-700/30 shadow-lg">
                                <div class="flex items-center justify-between mb-4">
                                    <h4 class="text-lg font-semibold text-sumi dark:text-white flex items-center gap-2">
                                        <span class="text-2xl">🌤️</span>
                                        <span>Kyoto Weather</span>
                                    </h4>
                                </div>
                                
                                <div id="kyoto-weather-widget" class="space-y-4">
                                    <!-- Current Weather -->
                                    <div class="text-center">
                                        <div class="text-4xl font-bold text-blue-600 dark:text-blue-400 mb-2" id="weather-temperature">
                                            --°C
                                        </div>
                                        <div class="text-6xl mb-3" id="weather-icon">
                                            🌤️
                                        </div>
                                        <div class="text-sm text-sumi/70 dark:text-gofun/70 mb-2" id="weather-description">
                                            <span>Loading weather...</span>
                                        </div>
                                        <div class="text-xs text-sumi/60 dark:text-gofun/60" id="weather-feels-like">
                                            <span>Feels like</span> --°C
                                        </div>
                                    </div>
                                    
                                    <!-- Weather Details Grid -->
                                    <div class="grid grid-cols-2 gap-3 text-xs">
                                        <div class="flex items-center justify-between p-2 bg-white/50 dark:bg-sumi/20 rounded-lg">
                                            <div class="flex items-center">
                                                <span class="mr-2">💨</span>
                                                <span>Wind</span>
                                            </div>
                                            <span class="font-semibold" id="weather-wind">-- km/h</span>
                                        </div>
                                        <div class="flex items-center justify-between p-2 bg-white/50 dark:bg-sumi/20 rounded-lg">
                                            <div class="flex items-center">
                                                <span class="mr-2">💧</span>
                                                <span>Humidity</span>
                                            </div>
                                            <span class="font-semibold" id="weather-humidity">--%</span>
                                        </div>
                                        <div class="flex items-center justify-between p-2 bg-white/50 dark:bg-sumi/20 rounded-lg">
                                            <div class="flex items-center">
                                                <span class="mr-2">👁️</span>
                                                <span>Visibility</span>
                                            </div>
                                            <span class="font-semibold" id="weather-visibility">-- km</span>
                                        </div>
                                        <div class="flex items-center justify-between p-2 bg-white/50 dark:bg-sumi/20 rounded-lg">
                                            <div class="flex items-center">
                                                <span class="mr-2">🌡️</span>
                                                <span>Pressure</span>
                                            </div>
                                            <span class="font-semibold" id="weather-pressure">-- hPa</span>
                                        </div>
                                    </div>
                                    
                                    <!-- Sunrise/Sunset -->
                                    <div class="flex items-center justify-between p-3 bg-gradient-to-r from-yellow-500/20 to-orange-500/20 rounded-lg border border-yellow-400/30">
                                        <div class="flex items-center">
                                            <span class="text-xl mr-2">🌅</span>
                                            <div>
                                                <div class="text-xs text-sumi/60 dark:text-gofun/60">Sunrise</div>
                                                <div class="font-semibold text-sm" id="weather-sunrise">--:--</div>
                                            </div>
                                        </div>
                                        <div class="flex items-center">
                                            <div class="text-right">
                                                <div class="text-xs text-sumi/60 dark:text-gofun/60">Sunset</div>
                                                <div class="font-semibold text-sm" id="weather-sunset">--:--</div>
                                            </div>
                                            <span class="text-xl ml-2">🌇</span>
                                        </div>
                                    </div>
                                    
                                    <!-- Last Updated -->
                                    <div class="text-center text-xs text-sumi/50 dark:text-gofun/50">
                                        <span>Time in Kyoto</span>: <span id="weather-last-updated">--:--</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </section>

        <!-- Market Analytics Dashboard -->
        <section class="py-12 md:py-16 lg:py-20 bg-gradient-to-br from-gray-50 to-white dark:from-gray-900 dark:to-sumi">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="text-center mb-12 lg:mb-16">
                    <div class="inline-flex items-center px-4 py-2 rounded-full text-sm font-medium bg-[#d9c289]/10 text-[#d9c289] mb-4">
                        <span class="w-2 h-2 bg-[#d9c289] rounded-full mr-2 animate-pulse"></span>
                        Live Market Data
                    </div>
                    <h2 class="text-3xl sm:text-4xl lg:text-5xl font-serif font-bold text-sumi dark:text-gofun mb-4">
                        📊 Market Analytics Dashboard
                </h2>
                    <p class="text-lg md:text-xl text-sumi/70 dark:text-gofun/70 max-w-3xl mx-auto">
                        Real-time market insights and property trends for Kyoto
                    </p>
                </div>

                <!-- Action Buttons -->
                <div class="flex justify-center gap-4 mb-12">
                    <button id="refresh-analytics" class="inline-flex items-center px-6 py-3 bg-[#000000] text-white rounded-xl hover:bg-[#000000]/90 transition-all duration-300 transform hover:scale-105 shadow-lg font-semibold">
                        <span class="mr-2">🔄</span>
                        Refresh Data
                    </button>
                    <button id="export-analytics" class="inline-flex items-center px-6 py-3 bg-[#d9c289] text-white rounded-xl hover:bg-[#d9c289]/90 transition-all duration-300 transform hover:scale-105 shadow-lg font-semibold">
                        <span class="mr-2">📊</span>
                        Export
                    </button>
                </div>

                <!-- Market Stats Grid -->
                <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 lg:gap-8 mb-12">
                    <div class="group bg-white dark:bg-gray-800 rounded-2xl shadow-xl hover:shadow-2xl transition-all duration-500 p-6 border border-gray-100 dark:border-gray-700 transform hover:-translate-y-1">
                        <div class="flex items-center justify-between">
                            <div>
                                <p class="text-sm font-medium text-sumi/60 dark:text-gofun/60 mb-2">Total Properties</p>
                                <p id="total-properties" class="text-3xl font-bold text-sumi dark:text-gofun">14</p>
                            </div>
                            <div class="text-4xl group-hover:scale-110 transition-transform duration-300">🏠</div>
                        </div>
                    </div>
                    
                    <div class="group bg-white dark:bg-gray-800 rounded-2xl shadow-xl hover:shadow-2xl transition-all duration-500 p-6 border border-gray-100 dark:border-gray-700 transform hover:-translate-y-1">
                        <div class="flex items-center justify-between">
                            <div>
                                <p class="text-sm font-medium text-sumi/60 dark:text-gofun/60 mb-2">Avg Sale Price</p>
                                <p id="avg-sale-price" class="text-3xl font-bold text-sumi dark:text-gofun">¥85.0M</p>
                            </div>
                            <div class="text-4xl group-hover:scale-110 transition-transform duration-300">💰</div>
                        </div>
                    </div>
                    
                    <div class="group bg-white dark:bg-gray-800 rounded-2xl shadow-xl hover:shadow-2xl transition-all duration-500 p-6 border border-gray-100 dark:border-gray-700 transform hover:-translate-y-1">
                        <div class="flex items-center justify-between">
                            <div>
                                <p class="text-sm font-medium text-sumi/60 dark:text-gofun/60 mb-2">Avg Rent Price</p>
                                <p id="avg-rent-price" class="text-3xl font-bold text-sumi dark:text-gofun">¥208K</p>
                            </div>
                            <div class="text-4xl group-hover:scale-110 transition-transform duration-300">🏡</div>
                        </div>
                    </div>
                    
                    <div class="group bg-white dark:bg-gray-800 rounded-2xl shadow-xl hover:shadow-2xl transition-all duration-500 p-6 border border-gray-100 dark:border-gray-700 transform hover:-translate-y-1">
                        <div class="flex items-center justify-between">
                            <div>
                                <p class="text-sm font-medium text-sumi/60 dark:text-gofun/60 mb-2">Market Health</p>
                                <p id="market-health" class="text-3xl font-bold text-green-600">Strong</p>
                            </div>
                            <div class="text-4xl group-hover:scale-110 transition-transform duration-300">📈</div>
                        </div>
                    </div>
                </div>

                <!-- Detailed Analytics -->
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 lg:gap-12">
                    <div class="bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-8 border border-gray-100 dark:border-gray-700">
                        <h3 class="font-bold text-xl text-sumi dark:text-gofun mb-6 flex items-center">
                            <span class="mr-3">📈</span>
                            Price Trends
                        </h3>
                        <div class="space-y-4">
                            <div class="flex justify-between items-center p-3 bg-gray-50 dark:bg-gray-700 rounded-lg">
                                <span class="text-sm font-medium text-sumi/70 dark:text-gofun/70">Price Trend:</span>
                                <span id="price-trend" class="text-sm font-bold text-green-600">+5.2%</span>
                            </div>
                            <div class="flex justify-between items-center p-3 bg-gray-50 dark:bg-gray-700 rounded-lg">
                                <span class="text-sm font-medium text-sumi/70 dark:text-gofun/70">Health Indicator:</span>
                                <span id="health-indicator" class="text-sm font-bold text-sumi dark:text-gofun">Strong</span>
                            </div>
                            <div class="flex justify-between items-center p-3 bg-gray-50 dark:bg-gray-700 rounded-lg">
                                <span class="text-sm font-medium text-sumi/70 dark:text-gofun/70">Avg Days on Market:</span>
                                <span id="avg-days-on-market" class="text-sm font-bold text-sumi dark:text-gofun">12.5 days</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-8 border border-gray-100 dark:border-gray-700">
                        <h3 class="font-bold text-xl text-sumi dark:text-gofun mb-6 flex items-center">
                            <span class="mr-3">💡</span>
                            Market Insights
                        </h3>
                        <div class="space-y-4">
                            <div class="flex justify-between items-center p-3 bg-gray-50 dark:bg-gray-700 rounded-lg">
                                <span class="text-sm font-medium text-sumi/70 dark:text-gofun/70">Market Outlook:</span>
                                <span id="market-outlook" class="text-sm font-bold text-green-600">Positive</span>
                            </div>
                            <div class="flex justify-between items-center p-3 bg-gray-50 dark:bg-gray-700 rounded-lg">
                                <span class="text-sm font-medium text-sumi/70 dark:text-gofun/70">Inventory Level:</span>
                                <span id="inventory-level" class="text-sm font-bold text-sumi dark:text-gofun">Low</span>
                            </div>
                            <div class="flex justify-between items-center p-3 bg-gray-50 dark:bg-gray-700 rounded-lg">
                                <span class="text-sm font-medium text-sumi/70 dark:text-gofun/70">Buyer Demand:</span>
                                <span id="buyer-demand" class="text-sm font-bold text-green-600">High</span>
                            </div>
                        </div>
                    </div>
                </div>


            </div>
        </section>









        <!-- Search Results Container -->
        <div id="search-results" class="hidden absolute top-full left-0 right-0 bg-white dark:bg-sumi border border-zen dark:border-aiiro rounded-lg shadow-lg z-50 max-h-64 overflow-y-auto">
            <!-- Search results will be populated by JavaScript -->
        </div>

        <!-- Loading Skeleton -->
        <div id="loading-skeleton" class="hidden">
            <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-2 xl:grid-cols-4 gap-4 lg:gap-6">
                <div class="bg-white dark:bg-sumi rounded-xl shadow-lg animate-pulse">
                    <div class="h-48 bg-gray-200 dark:bg-gray-700 rounded-t-xl"></div>
                    <div class="p-4">
                        <div class="h-4 bg-gray-200 dark:bg-gray-700 rounded mb-2"></div>
                        <div class="h-6 bg-gray-200 dark:bg-gray-700 rounded mb-2"></div>
                        <div class="h-4 bg-gray-200 dark:bg-gray-700 rounded mb-4"></div>
                        <div class="flex gap-2">
                            <div class="h-8 bg-gray-200 dark:bg-gray-700 rounded flex-1"></div>
                            <div class="h-8 bg-gray-200 dark:bg-gray-700 rounded flex-1"></div>
                        </div>
                    </div>
                </div>
                <!-- Repeat skeleton cards -->
            </div>
        </div>


    </main>

    <!-- Property Modal -->
    <div id="property-modal" class="fixed inset-0 bg-black bg-opacity-50 z-50 hidden">
        <div class="flex items-center justify-center min-h-screen p-4">
            <div class="bg-white dark:bg-sumi rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto">
                <div class="p-6">
                    <div class="flex justify-between items-start mb-6">
                        <h2 id="modal-title" class="text-2xl font-serif font-bold text-sumi dark:text-gofun">Property Details</h2>
                        <button onclick="realEstateManager.closePropertyModal()" class="text-sumi/60 dark:text-gofun/60 hover:text-sumi dark:hover:text-gofun">
                            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                            </svg>
                        </button>
                    </div>
                    
                    <div id="modal-content" class="space-y-6">
                        <!-- Modal content will be populated by JavaScript -->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Shortcuts Help Modal -->
    <div id="shortcuts-help" class="fixed inset-0 bg-black bg-opacity-50 z-50 hidden">
        <div class="flex items-center justify-center min-h-screen p-4">
            <div class="bg-white dark:bg-sumi rounded-lg max-w-2xl w-full">
                <div class="p-6">
                    <div class="flex justify-between items-start mb-6">
                        <h2 class="text-2xl font-serif font-bold text-sumi dark:text-gofun">Keyboard Shortcuts</h2>
                        <button onclick="realEstateManager.toggleShortcutsHelp()" class="text-sumi/60 dark:text-gofun/60 hover:text-sumi dark:hover:text-gofun">
                            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                            </svg>
                        </button>
                    </div>
                    
                    <div class="space-y-4">
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div>
                                <h3 class="font-semibold text-sumi dark:text-gofun mb-2">Navigation</h3>
                                <div class="space-y-2 text-sm">
                                    <div class="flex justify-between">
                                        <span>Ctrl/Cmd + K</span>
                                        <span>Focus search</span>
                                    </div>
                                    <div class="flex justify-between">
                                        <span>Ctrl/Cmd + G</span>
                                        <span>Grid view</span>
                                    </div>
                                    <div class="flex justify-between">
                                        <span>Ctrl/Cmd + L</span>
                                        <span>List view</span>
                                    </div>
                                </div>
                            </div>
                            
                            <div>
                                <h3 class="font-semibold text-sumi dark:text-gofun mb-2">Help</h3>
                                <div class="space-y-2 text-sm">
                                    <div class="flex justify-between">
                                        <span>?</span>
                                        <span>Show/hide shortcuts</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="bg-sumi text-gofun py-12">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
                <div>
                    <h3 class="text-lg font-semibold mb-4">About MrKyoto</h3>
                    <p class="text-gofun/70 text-sm">As experts in Kyoto culture and real estate, we support your life in Kyoto.</p>
                </div>
                <div>
                    <h3 class="text-lg font-semibold mb-4">Services</h3>
                    <ul class="space-y-2 text-sm">
                        <li><a href="/real-estate/" class="text-gofun/70 hover:text-gofun transition-colors">Real Estate</a></li>
                        <li><a href="/activities/" class="text-gofun/70 hover:text-gofun transition-colors">Activities</a></li>
                        <li><a href="/events/" class="text-gofun/70 hover:text-gofun transition-colors">Events</a></li>
                        <li><a href="/news/" class="text-gofun/70 hover:text-gofun transition-colors">News</a></li>
                    </ul>
                </div>
                <div>
                    <h3 class="text-lg font-semibold mb-4">Legal</h3>
                    <ul class="space-y-2 text-sm">
                        <li><a href="/privacy/" class="text-gofun/70 hover:text-gofun transition-colors">Privacy Policy</a></li>
                        <li><a href="/terms/" class="text-gofun/70 hover:text-gofun transition-colors">Terms of Service</a></li>
                    </ul>
                </div>
                <div>
                    <h3 class="text-lg font-semibold mb-4">Contact</h3>
                    <p class="text-gofun/70 text-sm">info@mrkyoto.com</p>
                </div>
            </div>
            <div class="border-t border-gofun/20 mt-8 pt-8 text-center">
                <p class="text-gofun/70 text-sm">© 2025 MrKyoto.com. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <!-- Scripts -->
    <script src="/js/weather-service.js"></script>
    <script src="/js/weather-init.js"></script>
    <script src="/js/weather-verification.js"></script>
    <script src="/js/weather-force-refresh.js"></script>
    <script src="/js/live-kyoto-widget.js"></script>
    <script src="/js/real-estate-manager.js"></script>
    <script src="/js/real-estate-data.js"></script>
    <script src="/js/translation-manager.js"></script>
    <script src="/js/theme-language-manager.js"></script>
    
    <!-- Chart.js for Analytics -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <!-- Google Maps API -->
    <script async defer src="https://maps.googleapis.com/maps/api/js?key=YOUR_GOOGLE_MAPS_API_KEY&callback=initMap"></script>
    <script>
        function initMap() {
            // This function will be called when Google Maps API loads
            console.log('Google Maps API loaded');
        }
    </script>


    
    <!-- Mobile Menu Functionality - EXACT COPY FROM ACTIVITIES -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            console.log('🔍 Mobile menu script loaded');
            const mobileMenuButton = document.getElementById('mobile-menu-button');
            const mobileMenu = document.getElementById('mobile-menu');
            const mobileThemeToggle = document.getElementById('mobile-theme-toggle');
            const mobileLanguageToggle = document.getElementById('mobile-language-toggle');
            
            console.log('🔍 Mobile menu button found:', !!mobileMenuButton);
            console.log('🔍 Mobile menu found:', !!mobileMenu);
            console.log('🔍 Mobile theme toggle found:', !!mobileThemeToggle);
            console.log('🔍 Mobile language toggle found:', !!mobileLanguageToggle);
            
            if (mobileMenuButton && mobileMenu) {
                console.log('✅ Both elements found, adding event listener');
                // Force menu to start hidden with new styling
                mobileMenu.className = 'lg:hidden hidden bg-gradient-to-br from-sumi to-aiiro border-t border-kincha/30';
                mobileMenu.style.display = 'none';
                console.log('🔧 Initial state - Menu hidden:', mobileMenu.classList.contains('hidden'));
                console.log('🔧 Menu display style:', mobileMenu.style.display);
                
                mobileMenuButton.addEventListener('click', function(e) {
                    console.log('🖱️ Mobile menu button clicked!');
                    e.preventDefault();
                    e.stopPropagation();
                    const isHidden = mobileMenu.style.display === 'none';
                    console.log('🔍 Current display state:', mobileMenu.style.display);
                    console.log('🔍 Is hidden:', isHidden);
                    if (isHidden) {
                        mobileMenu.style.display = 'block';
                        mobileMenu.classList.remove('hidden');
                        console.log('📱 Menu opened');
                    } else {
                        mobileMenu.style.display = 'none';
                        mobileMenu.classList.add('hidden');
                        console.log('📱 Menu closed');
                    }
                    console.log('🔄 Menu display after toggle:', mobileMenu.style.display);
                    console.log('🔄 Menu hidden class after toggle:', mobileMenu.classList.contains('hidden'));
                    // Animate the hamburger icon
                    const icon = mobileMenuButton.querySelector('svg');
                    if (icon) {
                        icon.style.transform = mobileMenu.style.display === 'none' ? 'rotate(0deg)' : 'rotate(90deg)';
                        icon.style.transition = 'transform 0.3s ease';
                        console.log('🎨 Icon rotated');
                    }
                });
                
                // Setup mobile theme toggle
                if (mobileThemeToggle) {
                    mobileThemeToggle.addEventListener('click', function(e) {
                        e.preventDefault();
                        console.log('🌙 Mobile theme toggle clicked!');
                        
                        const html = document.documentElement;
                        const isDark = html.classList.contains('dark');
                        
                        if (isDark) {
                            html.classList.remove('dark');
                            localStorage.setItem('theme', 'light');
                            console.log('☀️ Switched to light mode');
                        } else {
                            html.classList.add('dark');
                            localStorage.setItem('theme', 'dark');
                            console.log('🌙 Switched to dark mode');
                        }
                    });
                }
                
                // Setup mobile language toggle
                if (mobileLanguageToggle) {
                    mobileLanguageToggle.addEventListener('click', function(e) {
                        e.preventDefault();
                        console.log('🌍 Mobile language toggle clicked!');
                        
                        // Use the same language switching logic as the desktop version
                        const currentPath = window.location.pathname;
                        let newPath;
                        
                        if (currentPath.startsWith('/ja/')) {
                            // Currently on Japanese page, switch to English
                            newPath = currentPath.replace('/ja/', '/');
                        } else {
                            // Currently on English page, switch to Japanese
                            newPath = currentPath.replace(/^\//, '/ja/');
                        }
                        
                        console.log('🔄 Switching from', currentPath, 'to', newPath);
                        window.location.href = newPath;
                    });
                }
                
                // Close mobile menu when clicking outside
                document.addEventListener('click', function(event) {
                    if (!mobileMenuButton.contains(event.target) && !mobileMenu.contains(event.target)) {
                        mobileMenu.style.display = 'none';
                        mobileMenu.classList.add('hidden');
                        const icon = mobileMenuButton.querySelector('svg');
                        if (icon) {
                            icon.style.transform = 'rotate(0deg)';
                        }
                    }
                });
                console.log('✅ Mobile menu event listeners added');
            } else {
                console.error('❌ Mobile menu elements not found');
                console.log('🔍 Available elements with "mobile" in ID:', 
                    Array.from(document.querySelectorAll('[id*="mobile"]')).map(el => el.id));
            }
        });
    </script>

    <!-- Force English Language for English Page -->
    <script>
        // Force English language for this page
        document.addEventListener('DOMContentLoaded', function() {
            console.log('🇬🇧 Setting English language for English real estate page...');
            
            // Set language to English
            localStorage.setItem('mrkyoto-language', 'en');
            
            // Force translation manager to use English
            if (window.translationManager) {
                window.translationManager.setLanguage('en');
                console.log('✅ Translation manager set to English');
            } else {
                console.log('⏳ Translation manager not ready yet, will set later...');
                // Wait for translation manager to load
                setTimeout(() => {
                    if (window.translationManager) {
                        window.translationManager.setLanguage('en');
                        console.log('✅ Translation manager set to English (delayed)');
                    }
                }, 2000);
            }
            
            // Hide loading message after a short delay
            setTimeout(() => {
                const loadingMessage = document.getElementById('loading-message');
                if (loadingMessage) {
                    loadingMessage.style.display = 'none';
                    console.log('✅ Hidden loading message');
                }
            }, 2000);
        });
    </script>

    <!-- Theme and Language Toggle Fix -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            console.log('🔧 Fixing theme and language toggles...');
            
            // Theme toggle functionality
            const themeToggle = document.getElementById('theme-toggle');
            if (themeToggle) {
                console.log('✅ Theme toggle found, adding event listener');
                themeToggle.addEventListener('click', function(e) {
                    e.preventDefault();
                    e.stopPropagation();
                    console.log('🌙 Theme toggle clicked!');
                    
                    // Toggle dark mode
                    const html = document.documentElement;
                    const isDark = html.classList.contains('dark');
                    
                    if (isDark) {
                        html.classList.remove('dark');
                        localStorage.setItem('theme', 'light');
                        console.log('☀️ Switched to light mode');
                    } else {
                        html.classList.add('dark');
                        localStorage.setItem('theme', 'dark');
                        console.log('🌙 Switched to dark mode');
                    }
                });
            }
            
            // Language toggle functionality
            const languageToggle = document.getElementById('language-toggle');
            if (languageToggle) {
                console.log('✅ Language toggle found, adding event listener');
                languageToggle.addEventListener('click', function(e) {
                    e.preventDefault();
                    e.stopPropagation();
                    console.log('🌍 Language toggle clicked!');
                    
                    // Use the same language switching logic as the desktop version
                    const currentPath = window.location.pathname;
                    let newPath;
                    
                    if (currentPath.startsWith('/ja/')) {
                        // Currently on Japanese page, switch to English
                        newPath = currentPath.replace('/ja/', '/');
                    } else {
                        // Currently on English page, switch to Japanese
                        newPath = currentPath.replace(/^\//, '/ja/');
                    }
                    
                    console.log('🔄 Switching from', currentPath, 'to', newPath);
                    window.location.href = newPath;
                });
            }
            

        });
    </script>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            console.log('🏯 English Real Estate page loaded');
            
            // Test if real estate data is available
            if (typeof realEstateData !== 'undefined') {
                console.log('✅ Real estate data is available');
                console.log('Rental properties count:', realEstateData.getPropertiesForRent().length);
                console.log('Sale properties count:', realEstateData.getPropertiesForSale().length);
            } else {
                console.error('❌ Real estate data is NOT available');
            }
            
            // Initialize theme and language managers
            if (typeof ThemeLanguageManager !== 'undefined') {
                new ThemeLanguageManager();
            }
            
            if (typeof TranslationManager !== 'undefined') {
                new TranslationManager();
            }
            
            // Initialize real estate functionality
            if (typeof RealEstateManager !== 'undefined') {
                console.log('🏠 Initializing RealEstateManager...');
                new RealEstateManager();
            } else {
                console.error('❌ RealEstateManager is NOT available');
            }
            
            // Initialize live widget functionality
            if (typeof LiveKyotoWidget !== 'undefined') {
                console.log('🎥 Initializing Live Kyoto Widget...');
                window.liveKyotoWidget = new LiveKyotoWidget();
                console.log('✅ Live Kyoto Widget initialized successfully');
            } else {
                console.error('❌ LiveKyotoWidget class not found');
            }
        });
    </script>



    <!-- Properties List View (Hidden by default) -->
    <section id="properties-list" class="hidden py-6 md:py-8 lg:py-12 bg-white dark:bg-sumi">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="space-y-6">
                <!-- List items will be populated by JavaScript -->
            </div>
        </div>
    </section>
</body>
</html> 